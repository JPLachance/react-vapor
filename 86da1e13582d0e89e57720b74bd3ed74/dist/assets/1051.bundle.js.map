{"version":3,"sources":["webpack:///./src/components/lastUpdated/examples/LastUpdatedConnectedExamples.tsx?fc89","webpack:///./src/components/lastUpdated/LastUpdated.tsx?a67a","webpack:///./src/components/lastUpdated/LastUpdatedConnected.tsx?3a07"],"names":["mapStateToProps","mapDispatchToProps","dispatch","onRefresh","componentDidMount","setInterval","props","render","className","style","width","id","LastUpdatedConnectedExamples","componentWillMount","this","onRender","componentWillUnmount","onDestroy","label","time","Date","lastUpdateTime","format","LastUpdatedConnected","state","ownProps","item","lastUpdatedComposite","mergeProps"],"mappings":"k0BASMA,EAAkB,WACpB,MAAO,IAGLC,EAAqB,SACvBC,GAEA,MAAO,CACHC,UAAW,WACPD,EAAS,YAAkB,4CAMvC,2B,+CAoBA,OApBkD,OAC9C,YAAAE,kBAAA,sBACIC,aAAY,WACR,EAAKC,MAAMH,cACZ,MAGP,YAAAI,OAAA,WACI,OACI,uBAAKC,UAAU,aAAaC,MAAO,CAACC,MAAO,MACvC,2BACI,yBAAOF,UAAU,sBAAoB,yGAIrC,gBAAC,IAAoB,CAACG,GAAG,4CAfhCC,EAA4B,GADxC,YAAaZ,EAAiBC,IAClBW,GAAb,CAAkD,c,4ZCDlD,2B,+CAwBA,OAxBiC,OAC7B,YAAAC,mBAAA,WACQC,KAAKR,MAAMS,UACXD,KAAKR,MAAMS,YAInB,YAAAC,qBAAA,WACQF,KAAKR,MAAMW,WACXH,KAAKR,MAAMW,aAInB,YAAAV,OAAA,WACI,IAAMW,EAAgBJ,KAAKR,MAAMY,OAhBA,eAiB3BC,EAAaL,KAAKR,MAAMa,MAAQ,IAAIC,KACpCC,EAAyB,EAAOF,GAAMG,OAAO,OAEnD,OACI,uBAAKd,UAAW,IAAW,oBAAqBM,KAAKR,MAAME,YACtDU,E,IAAQG,IAIzB,EAxBA,CAAiC,c,iCCtBjC,8EA8BaE,EAAgE,aAhBrD,SAACC,EAAyBC,GAC9C,IAAMC,EAA0B,YAAYF,EAAMG,qBAAsB,CAAChB,GAAIc,EAASd,KAEtF,MAAO,CACHQ,KAAMO,EAAOA,EAAKP,KAAO,IAAIC,SAIV,SACvBlB,EACAuB,GAC4B,OAC5BV,SAAU,WAAM,OAAAb,EAAS,YAAeuB,EAASd,MACjDM,UAAW,WAAM,OAAAf,EAAS,YAAkBuB,EAASd,SAMrD,IAAWiB,WAH8D,CAI3E","file":"assets/1051.bundle.js","sourcesContent":["import * as React from 'react';\r\nimport {IReduxAction, ReduxConnect} from '../../../utils/ReduxUtils';\r\nimport {changeLastUpdated, ILastUpdatedPayload} from '../LastUpdatedActions';\r\nimport {LastUpdatedConnected} from '../LastUpdatedConnected';\r\n\r\nexport interface ILastUpdateConnectedExamplesProps {\r\n    onRefresh?: () => void;\r\n}\r\n\r\nconst mapStateToProps = () => {\r\n    return {};\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n    dispatch: (action: IReduxAction<ILastUpdatedPayload>) => void\r\n): ILastUpdateConnectedExamplesProps => {\r\n    return {\r\n        onRefresh: () => {\r\n            dispatch(changeLastUpdated('LastUpdatedConnectedExampleComponent'));\r\n        },\r\n    };\r\n};\r\n\r\n@ReduxConnect(mapStateToProps, mapDispatchToProps)\r\nexport class LastUpdatedConnectedExamples extends React.Component<ILastUpdateConnectedExamplesProps, any> {\r\n    componentDidMount() {\r\n        setInterval(() => {\r\n            this.props.onRefresh();\r\n        }, 10000);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"form-group\" style={{width: 400}}>\r\n                <div>\r\n                    <label className=\"form-control-label\">\r\n                        Last update updating with Redux (every 10 seconds here with the changeLastUpdated action with\r\n                        the id)\r\n                    </label>\r\n                    <LastUpdatedConnected id=\"LastUpdatedConnectedExampleComponent\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import classNames from 'classnames';\r\nimport * as moment from 'moment';\r\nimport * as React from 'react';\r\n\r\nexport interface ILastUpdatedOwnProps extends React.ClassAttributes<LastUpdated> {\r\n    id?: string;\r\n    label?: string;\r\n    className?: string;\r\n}\r\n\r\nexport interface ILastUpdatedStateProps {\r\n    time?: Date;\r\n}\r\n\r\nexport interface ILastUpdatedDispatchProps {\r\n    onRender?: () => void;\r\n    onDestroy?: () => void;\r\n}\r\n\r\nexport interface ILastUpdatedProps extends ILastUpdatedOwnProps, ILastUpdatedStateProps, ILastUpdatedDispatchProps {}\r\n\r\nexport const LAST_UPDATE_LABEL: string = 'Last update:';\r\n\r\nexport class LastUpdated extends React.Component<ILastUpdatedProps, any> {\r\n    componentWillMount() {\r\n        if (this.props.onRender) {\r\n            this.props.onRender();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.onDestroy) {\r\n            this.props.onDestroy();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const label: string = this.props.label || LAST_UPDATE_LABEL;\r\n        const time: Date = this.props.time || new Date();\r\n        const lastUpdateTime: string = moment(time).format('LTS');\r\n\r\n        return (\r\n            <div className={classNames('table-last-update', this.props.className)}>\r\n                {label} {lastUpdateTime}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as _ from 'underscore';\r\nimport {IReactVaporState, IReduxActionsPayload} from '../../ReactVapor';\r\nimport {IReduxAction, ReduxUtils} from '../../utils/ReduxUtils';\r\nimport {\r\n    ILastUpdatedDispatchProps,\r\n    ILastUpdatedOwnProps,\r\n    ILastUpdatedProps,\r\n    ILastUpdatedStateProps,\r\n    LastUpdated,\r\n} from './LastUpdated';\r\nimport {addLastUpdated, removeLastUpdated} from './LastUpdatedActions';\r\nimport {ILastUpdatedState} from './LastUpdatedReducers';\r\n\r\nconst mapStateToProps = (state: IReactVaporState, ownProps: ILastUpdatedOwnProps): ILastUpdatedStateProps => {\r\n    const item: ILastUpdatedState = _.findWhere(state.lastUpdatedComposite, {id: ownProps.id});\r\n\r\n    return {\r\n        time: item ? item.time : new Date(),\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n    dispatch: (action: IReduxAction<IReduxActionsPayload>) => void,\r\n    ownProps: ILastUpdatedOwnProps\r\n): ILastUpdatedDispatchProps => ({\r\n    onRender: () => dispatch(addLastUpdated(ownProps.id)),\r\n    onDestroy: () => dispatch(removeLastUpdated(ownProps.id)),\r\n});\r\n\r\nexport const LastUpdatedConnected: React.ComponentClass<ILastUpdatedProps> = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n    ReduxUtils.mergeProps\r\n)(LastUpdated);\r\n"],"sourceRoot":""}