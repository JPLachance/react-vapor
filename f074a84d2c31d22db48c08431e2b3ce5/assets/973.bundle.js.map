{"version":3,"sources":["webpack:///./src/components/color-picker/ColorPickerExamples.tsx?cb9e","webpack:///./src/components/input/Input.tsx?1d15","webpack:///./src/components/input/Label.tsx?dafb","webpack:///./src/utils/PropsToOmitUtils.ts?e979","webpack:///./src/components/input/InputSelectors.ts?f034","webpack:///./src/components/input/InputConnected.tsx?4523","webpack:///./src/components/color-picker/ColorPicker.tsx?3167"],"names":["logColorPicked","colorPicked","console","log","ColorPickerExamples","className","href","id","defaultColor","onChangeComplete","styles","default","controls","display","name","onClick","alert","getValue","getState","validatedInputTypes","inputPropsToOmit","props","state","valid","componentWillMount","this","onRender","validOnMount","validateOnMount","validate","defaultValue","disabledOnMount","componentWillUnmount","onDestroy","componentDidUpdate","prevProps","value","innerInput","reset","getInnerValue","setState","handleBlur","onBlur","handleChange","onChange","validOnChange","validateOnChange","handleClick","e","handleKeyUp","event","onKeyUp","getLabel","labelProps","labelTitle","key","htmlFor","render","classes","type","innerInputClasses","invalid","inputElements","ref","min","minimum","max","maximum","input","children","disabled","disabledTooltip","title","placement","Right","defaultProps","required","validMessage","invalidMessage","attributes","internalComponentPropsToOmit","PropsToOmitUtils","internal","getInput","inputs","InputSelectors","getIsValid","InputConnected","ownProps","dispatch","mergeProps","color","style","colorForInput","ColorPicker","hex","ColorPickerDisconnected"],"mappings":"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","file":"assets/973.bundle.js","sourcesContent":["import * as React from 'react';\nimport {ColorResult} from 'react-color';\nimport {debounce} from 'underscore';\nimport {ExamplesStore} from '../../../docs/Store';\nimport {Button} from '../button/Button';\nimport {InputSelectors} from '../input/InputSelectors';\nimport {ColorPicker} from './ColorPicker';\n\nconst logColorPicked = debounce((colorPicked: ColorResult) => {\n    // tslint:disable-next-line\n    console.log(colorPicked);\n}, 500);\n\nexport const ColorPickerExamples = () => (\n    <div className=\"mt2\">\n        <h2 className=\"mb2\">\n            Built using <a href=\"https://github.com/casesandberg/react-color/\">React Color</a>\n        </h2>\n        <div className=\"form-group\">\n            <label className=\"form-control-label\">Basic ColorPicker</label>\n            <div className=\"flex\">\n                <ColorPicker id=\"color-picker-example-1\" defaultColor=\"#F37231\" onChangeComplete={logColorPicked} />\n            </div>\n        </div>\n        <div className=\"form-group\">\n            <label className=\"form-control-label\">ColorPicker with different picker styling, hiding controls</label>\n            <div className=\"flex\">\n                <ColorPicker id=\"color-picker-example-2\" styles={{default: {controls: {display: 'none'}}}} />\n            </div>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"form-control-label\">ColorPickerConnected with color as hex available from state</label>\n            <div className=\"flex\">\n                <ColorPicker id=\"color-picker-example-3\" defaultColor=\"#47FF21\" />\n                <Button\n                    className=\"btn mod-primary ml2\"\n                    name=\"Click me to get color from state\"\n                    onClick={() =>\n                        alert(\n                            InputSelectors.getValue(ExamplesStore.getState(), {\n                                id: 'color-picker-example-3',\n                            })\n                        )\n                    }\n                />\n            </div>\n        </div>\n    </div>\n);\n","import * as classNames from 'classnames';\r\nimport * as React from 'react';\r\nimport {keys} from 'ts-transformer-keys';\r\nimport * as _ from 'underscore';\r\nimport {contains, isUndefined, uniqueId} from 'underscore';\r\nimport {IClassName} from '../../utils/ClassNameUtils';\r\nimport {PropsToOmitUtils} from '../../utils/PropsToOmitUtils';\r\nimport {TooltipPlacement} from '../../utils/TooltipUtils';\r\nimport {Tooltip} from '../tooltip/Tooltip';\r\nimport {IInputState} from './InputReducers';\r\nimport {ILabelProps, Label} from './Label';\r\n\r\nconst validatedInputTypes: string[] = ['number', 'text', 'password'];\r\n\r\ntype IInputNativeTagOwnProps = Omit<\r\n    React.AllHTMLAttributes<HTMLInputElement>,\r\n    'defaultValue' | 'onClick' | 'onChange' | 'onBlur' | 'value'\r\n>;\r\n\r\nexport interface IInputAdditionalOwnProps {\r\n    id?: string;\r\n    classes?: IClassName;\r\n    innerInputClasses?: IClassName;\r\n    validate?: (value: any) => boolean;\r\n    labelTitle?: React.ReactNode;\r\n    labelProps?: ILabelProps;\r\n    validateOnChange?: boolean;\r\n    disabledOnMount?: boolean;\r\n    validateOnMount?: boolean;\r\n    disabledTooltip?: string;\r\n    minimum?: number /* @deprecated use min instead */;\r\n    maximum?: number /* @deprecated use max instead */;\r\n    onBlur?: (value: string) => void;\r\n    defaultValue?: string;\r\n}\r\n\r\nexport interface IInputNativeTagStateProps {\r\n    value?: string;\r\n    checked?: boolean;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport interface IInputAdditionalStateProps {\r\n    valid?: boolean;\r\n    indeterminate?: boolean;\r\n}\r\n\r\nexport interface IInputStateProps extends IInputNativeTagStateProps, IInputAdditionalStateProps {}\r\n\r\nexport interface IInputDispatchProps {\r\n    onDestroy?: () => void;\r\n    onRender?: (value?: string, valid?: boolean, disabled?: boolean) => void;\r\n    onChange?: (value?: string, valid?: boolean) => void;\r\n    onClick?: (e: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst inputPropsToOmit = keys<IInputAdditionalOwnProps & IInputAdditionalStateProps & IInputDispatchProps>();\r\n\r\nexport interface IInputOwnProps extends IInputAdditionalOwnProps, IInputNativeTagOwnProps {}\r\n\r\nexport interface IInputProps extends IInputOwnProps, Partial<IInputStateProps>, Partial<IInputDispatchProps> {}\r\n\r\nexport interface IInputComponentState {\r\n    valid: boolean;\r\n}\r\n\r\nexport class Input extends React.Component<IInputProps, IInputComponentState> {\r\n    private innerInput: HTMLInputElement;\r\n\r\n    static defaultProps: Partial<IInputProps> = {\r\n        id: uniqueId('input'),\r\n        type: 'text',\r\n        valid: true,\r\n        labelTitle: '',\r\n        required: true,\r\n    };\r\n\r\n    constructor(props: IInputProps, state: IInputState) {\r\n        super(props, state);\r\n        this.state = {\r\n            valid: this.props.valid,\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (this.props.onRender) {\r\n            // undefined validOnMount will default to true in the state\r\n            const validOnMount =\r\n                this.props.validateOnMount && this.props.validate && this.props.validate(this.props.defaultValue || '');\r\n\r\n            this.props.onRender(this.props.defaultValue, validOnMount, this.props.disabledOnMount);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.onDestroy) {\r\n            this.props.onDestroy();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: IInputProps) {\r\n        if (this.props.valid !== prevProps.valid) {\r\n            this.validate();\r\n        }\r\n\r\n        if (prevProps.value !== this.props.value && this.innerInput) {\r\n            this.innerInput.value = this.props.value;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.innerInput.value = '';\r\n    }\r\n\r\n    getInnerValue(): string {\r\n        return (this.innerInput && this.innerInput.value) || '';\r\n    }\r\n\r\n    validate() {\r\n        this.setState({\r\n            valid: this.props.valid && !(this.props.validate && !this.props.validate(this.getInnerValue())),\r\n        });\r\n    }\r\n\r\n    private handleBlur() {\r\n        if (this.props.onBlur) {\r\n            this.props.onBlur(this.getInnerValue());\r\n        }\r\n    }\r\n\r\n    private handleChange() {\r\n        if (this.props.onChange) {\r\n            const validOnChange =\r\n                this.props.validateOnChange && this.props.validate && this.props.validate(this.getInnerValue());\r\n            this.props.onChange(this.getInnerValue(), validOnChange);\r\n        }\r\n    }\r\n\r\n    private handleClick(e: React.MouseEvent<HTMLElement>) {\r\n        if (this.props.onClick) {\r\n            this.props.onClick(e);\r\n        }\r\n    }\r\n\r\n    private handleKeyUp(event: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (this.props.onKeyUp) {\r\n            this.props.onKeyUp(event);\r\n        }\r\n    }\r\n\r\n    private getLabel(): React.ReactNode {\r\n        const {labelProps, labelTitle} = this.props;\r\n        if (typeof labelTitle === 'string') {\r\n            return labelTitle || this.props.validate ? (\r\n                <Label key={this.props.id + 'label'} htmlFor={this.props.id} {...labelProps}>\r\n                    {labelTitle}\r\n                </Label>\r\n            ) : null;\r\n        } else {\r\n            return labelTitle;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const classes = classNames(\r\n            'input-wrapper validate',\r\n            {\r\n                'input-field': contains(validatedInputTypes, this.props.type),\r\n            },\r\n            this.props.classes\r\n        );\r\n        const innerInputClasses = classNames(\r\n            {\r\n                invalid: !this.state.valid && contains(validatedInputTypes, this.props.type),\r\n            },\r\n            this.props.innerInputClasses\r\n        );\r\n\r\n        const inputElements = [\r\n            <input\r\n                key={this.props.id}\r\n                id={this.props.id}\r\n                className={innerInputClasses}\r\n                defaultValue={!isUndefined(this.props.value) ? this.props.value : this.props.defaultValue}\r\n                ref={(innerInput: HTMLInputElement) => (this.innerInput = innerInput)}\r\n                onBlur={() => this.handleBlur()}\r\n                onChange={() => this.handleChange()}\r\n                onKeyUp={(event: React.KeyboardEvent<HTMLInputElement>) => this.handleKeyUp(event)}\r\n                min={this.props.minimum}\r\n                max={this.props.maximum}\r\n                {..._.omit(this.props, [...PropsToOmitUtils.input, ...inputPropsToOmit])}\r\n            />,\r\n            this.getLabel(),\r\n            this.props.children,\r\n        ];\r\n\r\n        return this.props.disabled && this.props.disabledTooltip ? (\r\n            <div className={classes} onClick={(e: React.MouseEvent<HTMLElement>) => this.handleClick(e)}>\r\n                <Tooltip title={this.props.disabledTooltip} placement={TooltipPlacement.Right}>\r\n                    {inputElements}\r\n                </Tooltip>\r\n            </div>\r\n        ) : (\r\n            <div className={classes} onClick={(e: React.MouseEvent<HTMLElement>) => this.handleClick(e)}>\r\n                {inputElements}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as classNames from 'classnames';\r\nimport * as React from 'react';\r\n\r\nexport interface ILabelProps {\r\n    type?: string;\r\n    classes?: string[];\r\n    validMessage?: string;\r\n    invalidMessage?: string;\r\n}\r\n\r\nexport class Label extends React.Component<ILabelProps & React.HTMLProps<HTMLLabelElement>, any> {\r\n    render() {\r\n        const classes = classNames(this.props.classes);\r\n        const {validMessage, invalidMessage, children, ...attributes} = this.props;\r\n        return (\r\n            <label\r\n                className={classes}\r\n                data-valid-message={validMessage}\r\n                data-invalid-message={invalidMessage}\r\n                {...attributes}\r\n            >\r\n                {children}\r\n            </label>\r\n        );\r\n    }\r\n}\r\n","const internalComponentPropsToOmit: string[] = ['children', 'dangerouslySetInnerHTML'];\r\n\r\n// We omit those props for the input native tag because those props are reserved for the Input component and\r\n// to stay compatible with the old interface\r\nconst inputTagPropsToOmit: string[] = [\r\n    ...internalComponentPropsToOmit,\r\n    'defaultValue',\r\n    'onClick',\r\n    'onChange',\r\n    'onBlur',\r\n    'value',\r\n    'valid',\r\n];\r\n\r\nexport const PropsToOmitUtils = {\r\n    internal: internalComponentPropsToOmit,\r\n    input: inputTagPropsToOmit,\r\n};\r\n","import {createSelector} from 'reselect';\r\nimport * as _ from 'underscore';\r\n\r\nimport {IReactVaporState} from '../../ReactVapor';\r\nimport {IInputState} from './InputReducers';\r\n\r\nconst getInput = (state: IReactVaporState, props: {id: string}): IInputState =>\r\n    _.findWhere(state.inputs, {id: props.id});\r\n\r\nconst getValue = createSelector(getInput, (input: IInputState): string => input && input.value);\r\n\r\nconst getIsValid = createSelector(getInput, (input: IInputState): boolean => !!input && input.valid);\r\n\r\nexport const InputSelectors = {\r\n    getValue,\r\n    getIsValid,\r\n    getInput,\r\n};\r\n","import {connect} from 'react-redux';\r\nimport {IReactVaporState} from '../../ReactVapor';\r\nimport {IDispatch, ReduxUtils} from '../../utils/ReduxUtils';\r\nimport {IInputDispatchProps, IInputOwnProps, IInputProps, IInputStateProps, Input} from './Input';\r\nimport {addInput, changeInputValue, removeInput} from './InputActions';\r\nimport {InputSelectors} from './InputSelectors';\r\n\r\nconst mapStateToProps = (state: IReactVaporState, ownProps: IInputOwnProps): IInputStateProps => {\r\n    const input = InputSelectors.getInput(state, {id: ownProps.id});\r\n    return {\r\n        valid: input && input.valid,\r\n        value: input && input.value,\r\n        disabled: input && input.disabled,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: IDispatch, ownProps: IInputOwnProps): IInputDispatchProps => ({\r\n    onRender: (value: string = '', valid = true, disabled = false) =>\r\n        dispatch(addInput(ownProps.id, value, valid, disabled)),\r\n    onDestroy: () => dispatch(removeInput(ownProps.id)),\r\n    onChange: (value: string, valid = true) => dispatch(changeInputValue(ownProps.id, value, valid)),\r\n});\r\n\r\nexport const InputConnected: React.ComponentClass<IInputProps> = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n    ReduxUtils.mergeProps\r\n)(Input);\r\n","import * as React from 'react';\nimport {ChromePicker, ChromePickerProps, ColorResult} from 'react-color';\nimport {connect} from 'react-redux';\nimport {isString, noop, uniqueId} from 'underscore';\nimport {IReactVaporState} from '../../ReactVapor';\nimport {IDispatch} from '../../utils/ReduxUtils';\nimport {changeInputValue} from '../input/InputActions';\nimport {InputConnected} from '../input/InputConnected';\nimport {InputSelectors} from '../input/InputSelectors';\n\nexport interface IColorPickerProps extends ChromePickerProps {\n    id: string;\n    defaultColor?: string;\n}\n\nconst mapStateToProps = (state: IReactVaporState, ownProps: IColorPickerProps) => {\n    const color = InputSelectors.getValue(state, {id: ownProps.id}) || ownProps.defaultColor;\n    return {\n        color,\n    };\n};\n\nconst mapDispatchToProps = (dispatch: IDispatch, ownProps: IColorPickerProps) => ({\n    onChangeComplete: (colorPicked: ColorResult) => {\n        ownProps.onChangeComplete && ownProps.onChangeComplete(colorPicked);\n        dispatch(changeInputValue(ownProps.id, colorPicked.hex, true));\n    },\n});\n\nclass ColorPickerDisconnected extends React.Component<IColorPickerProps & ReturnType<typeof mapDispatchToProps>> {\n    static defaultProps: Partial<IColorPickerProps & ReturnType<typeof mapDispatchToProps>> = {\n        id: uniqueId('colorpicker'),\n        onChangeComplete: noop as any,\n    };\n\n    get colorForInput() {\n        if (this.props.color && isString(this.props.color)) {\n            return this.props.color;\n        }\n\n        if (this.props.defaultColor) {\n            return this.props.defaultColor;\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <ChromePicker {...this.props} />\n                <InputConnected\n                    id={this.props.id}\n                    style={{display: 'none'}}\n                    defaultValue={this.colorForInput}\n                    value={this.colorForInput}\n                />\n            </>\n        );\n    }\n}\n\nexport const ColorPicker = connect(mapStateToProps, mapDispatchToProps)(ColorPickerDisconnected);\n"],"sourceRoot":""}