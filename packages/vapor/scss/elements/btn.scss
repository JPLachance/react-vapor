@mixin button-focus($offset) {
    background-color: var(--light-grey);

    @include focus-border($offset);
}

.btn {
    display: inline-flex;
    align-items: center;
    box-sizing: border-box;
    height: $button-height;
    padding: $button-padding-y $button-padding-x;
    color: var(--navy-blue-80);
    font-weight: var(--main-font-bold);
    font-size: $button-font-size;
    font-family: var(--main-font);
    line-height: $button-line-height;
    white-space: nowrap;
    text-transform: none;
    text-decoration: none;
    text-overflow: ellipsis;
    vertical-align: middle;
    background-color: var(--pure-white);
    border: $button-border-width solid var(--navy-blue-80);
    border-radius: $border-radius;

    cursor: pointer;

    .icon {
        fill: var(--navy-blue-80);
    }

    &:active {
        color: var(--digital-blue-100);
        border-color: var(--digital-blue-100);

        .icon {
            fill: var(--digital-blue-100);
        }
    }

    &:focus {
        @include button-focus(0px);
        color: var(--navy-blue-80);
        text-decoration: none;
        background-color: var(--pure-white);
        outline-color: var(--green);
    }

    &:hover {
        color: var(--digital-blue-80);
        border-color: var(--digital-blue-80);
        outline-color: var(--digital-blue-80);

        .icon {
            fill: var(--digital-blue-80);
        }
    }

    &:disabled,
    &.state-disabled {
        color: var(--grey-60);
        background-color: var(--grey-20);
        border-color: var(--grey-40);
        cursor: default;
        pointer-events: none;

        .icon {
            fill: var(--grey-60);
        }
    }

    &.mod-small {
        height: $button-small-height;
        padding: $button-small-padding-y $button-small-padding-x;
        font-size: $button-small-font-size;
        line-height: $button-small-line-height;
    }

    &.mod-large {
        height: $button-large-height;
    }

    &.mod-primary {
        color: var(--white);
        background-color: var(--digital-blue-60);
        border: $button-border-width solid var(--digital-blue-60);

        &:active {
            background-color: var(--digital-blue-100);
            border: $button-border-width solid var(--digital-blue-100);
        }

        &:focus {
            background-color: var(--digital-blue-60);
            border: $button-border-width solid var(--digital-blue-60);
        }

        &:hover {
            background-color: var(--digital-blue-80);
            border: $button-border-width solid var(--digital-blue-80);
            outline-color: var(--digital-blue-80);
        }

        &:disabled,
        &.state-disabled {
            color: var(--grey-60);
            background-color: var(--grey-40);
            border: $button-border-width solid var(--grey-40);

            .icon {
                fill: var(--grey-60);
            }
        }

        .icon {
            fill: var(--white);
        }
    }

    &.mod-danger {
        color: var(--white);
        background-color: var(--critical-60);
        border: $button-border-width solid var(--critical-60);

        &:active {
            background-color: var(--critical-100);
            border: $button-border-width solid var(--critical-100);
        }

        &:focus {
            background-color: var(--critical-60);
            border: $button-border-width solid var(--critical-60);
        }

        &:hover {
            background-color: var(--critical-80);
            border: $button-border-width solid var(--critical-80);
            outline-color: var(--critical-80);
        }

        &:disabled,
        &.state-disabled {
            color: var(--grey-60);
            background-color: var(--grey-40);
            border: $button-border-width solid var(--grey-40);

            .icon {
                fill: var(--grey-60);
            }
        }

        .icon {
            fill: var(--white);
        }
    }

    &.mod-link {
        background-color: transparent;
        border: none;
    }

    & + .btn,
    + .btn-container {
        margin-left: $button-margin-width;
    }

    .confirm-icon-error,
    .confirm-icon-success {
        display: none;
    }

    &.mod-confirm-success,
    &.mod-confirm-error {
        position: relative;
        color: transparent;
        outline: 0;
        transition: background-color 0.2s ease;
        user-select: none;

        &:before {
            position: absolute;
            top: $button-height + 6px;
            font-size: 11px;
            text-transform: initial;
            opacity: 0;
            animation: vp-fadeIn ease-in 1;
            animation-duration: 0.3s;
            animation-fill-mode: forwards;
        }

        &.mod-confirm-right:before {
            right: 0;
        }

        &.mod-confirm-left:before {
            left: 0;
        }

        .confirm-icon-error,
        .confirm-icon-success {
            position: absolute;
            top: calc(50% - #{$button-confirm-icon-width} / 2);
            right: calc(50% - #{$button-confirm-icon-width} / 2);
            display: inline-block;
            font-size: $button-confirm-icon-width;
            fill: var(--white);
        }
    }

    &.mod-confirm {
        margin-bottom: $button-confirm-margin-bottom;
    }

    &.mod-confirm-success {
        background-color: var(--green);
        border: $button-border-width solid var(--green);

        &:focus,
        &:hover {
            background-color: var(--green);
            outline-color: var(--green);
        }

        &:before {
            color: var(--green);
            content: attr(data-confirm-success);
        }

        .confirm-icon-error {
            display: none;
        }
    }

    &.mod-confirm-error {
        background-color: var(--red);
        border: $button-border-width solid var(--red);

        &:focus,
        &:hover {
            background-color: var(--red);
            outline-color: var(--red);
        }

        &:before {
            color: var(--red);
            content: attr(data-confirm-error);
        }

        .confirm-icon-success {
            display: none;
        }
    }

    &.collapsible-header {
        border-radius: 0;
    }
}

button {
    font-family: var(--main-font);
}

.btn-container {
    display: inline-block;
    margin: 0;
    vertical-align: middle;

    .btn[disabled] {
        pointer-events: none;
    }

    & + .btn,
    + .btn-container {
        margin-left: $button-margin-width;
    }
}

.btn-hover:hover {
    .icon {
        fill: var(--green);
    }

    .btn-hover-text {
        color: var(--success-40);
    }
}
