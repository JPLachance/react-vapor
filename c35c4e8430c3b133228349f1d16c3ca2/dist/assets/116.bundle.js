(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{137:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(134),a=n(9),o=[{title:"Date range",quickOptions:[{label:"Last 10 seconds",value:function(){return r().subtract(10,"seconds").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last minute",value:function(){return r().subtract(1,"minute").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last 5 minutes",value:function(){return r().subtract(5,"minutes").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last 30 minutes",value:function(){return r().subtract(30,"minutes").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last hour",value:function(){return r().subtract(1,"hour").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last day",value:function(){return r().subtract(1,"day").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}}],isRange:!0,withTime:!0,hasSetToNowButton:!0,color:a.DatePickerColors.blue}],i=[{label:"Last day",value:function(){return r().subtract(1,"day").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last week",value:function(){return r().subtract(1,"week").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last month",value:function(){return r().subtract(1,"month").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last year",value:function(){return r().subtract(1,"year").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}}],l=[{title:"Date range",quickOptions:i,isRange:!0,withTime:!0,hasSetToNowButton:!0,color:a.DatePickerColors.blue}],u=(a.DatePickerColors.blue,a.DatePickerColors.blue,[{title:"Date range",quickOptions:[{label:"Last 5 minutes",value:function(){return r().subtract(5,"minutes").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last 30 minutes",value:function(){return r().subtract(30,"minutes").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last hour",value:function(){return r().subtract(1,"hour").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}},{label:"Last day",value:function(){return r().subtract(1,"day").toDate().toString()+a.DATES_SEPARATOR+(new Date).toString()}}],isRange:!0,withTime:!0,hasSetToNowButton:!0,color:a.DatePickerColors.blue}]),s=[{test:function(e){return e>=r().startOf("day").toDate()},isFor:a.CalendarSelectionRuleType.all},{test:function(e){return 6!==e.getDay()},isFor:a.CalendarSelectionRuleType.lower},{test:function(e){return 0!==e.getDay()},isFor:a.CalendarSelectionRuleType.upper},{test:function(e,t){return r(t).diff(r(e),"day")>=0},isFor:a.CalendarSelectionRuleType.range},{test:function(e,t){return r(t).diff(r(e),"day")<=7},isFor:a.CalendarSelectionRuleType.range}],c=(a.DatePickerColors.blue,a.CalendarSelectionRuleType.all,[r().toDate(),r().add(3,"day").toDate()])},138:function(e,t,n){var r={"./en-ca":133,"./en-ca.js":133};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=138},596:function(e,t,n){"use strict";n.r(t);var r=n(37),a=n(134),o=n(0),i=n(21),l=n(10),u=n(9),s=n(14),c=n(137),d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},b=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},f=o.createContext({isLoading:!0,id:void 0}),m=function(e){return[{primary:!0,icon:"edit",name:"edit",enabled:!0,trigger:function(){return alert(e)},callOnDoubleClick:!0}]},p=[{id:"address.city",prepend:o.createElement("span",{className:"mr1 text-medium-grey"},"City:"),values:[{displayValue:"All",value:"",selected:!0},{displayValue:"Lebsackbury",value:"Lebsackbury"}]},{id:"username",prepend:o.createElement("span",{className:"mr1 text-medium-grey"},"Username:"),values:[{displayValue:"All",value:"",selected:!0},{displayValue:"bret",value:"Bret"}]}],S={datesSelectionBoxes:c.e,years:b(u.DateUtils.getPreviousYears(25),[u.DateUtils.currentYear.toString()]),initialDateRange:[a().subtract(25,"years").toDate(),a().toDate()]},g={generateRows:function(e){return e.map((function(e,t){return o.createElement(u.TableRowConnected,{id:e.username,tableId:E,key:e.username,actions:m(e.username),isMultiselect:!0,disabled:t%3==0,collapsible:{content:o.createElement("div",{className:"py2"},"ðŸ‘‹")}},o.createElement(u.TableRowNumberColumn,{number:t+1}),o.createElement("td",{key:"city"},e.city),o.createElement("td",{key:"email"},e.email.toLowerCase()),o.createElement("td",{key:"username"},e.username.toLowerCase()),o.createElement("td",{key:"date-of-birth"},e.dateOfBirth.toLocaleDateString()))}))},tableActions:m,tablePredicates:p,tableDatePickerConfig:S};n.d(t,"TableHOCServerExamples",(function(){return T})),n.d(t,"TableHOCServerExampleId",(function(){return E}));var y,h=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},v=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},T=function(){return o.createElement(O,null)};T.title="TableHOC server";var E="complex-example",w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={data:null,isLoading:!0},t.ServerTableComposed=s.compose(u.withServerSideProcessing,u.tableWithUrlState,Object(u.tableWithBlankSlate)({title:"No data fetched from the server",description:"Try reviewing the specified filters above or clearing all filters.",buttons:[{name:"Clear filter",enabled:!0,onClick:function(){return t.props.resetFilter()}}]}),Object(u.tableWithPredicate)(g.tablePredicates[0]),Object(u.tableWithPredicate)(g.tablePredicates[1]),Object(u.tableWithFilter)({placeholder:"Filter all",blankSlate:{title:"No results found"}}),Object(u.tableWithSort)(),Object(u.tableWithDatePicker)(D({},g.tableDatePickerConfig)),Object(u.tableWithNewPagination)({perPageNumbers:[3,5,10]}),Object(u.tableWithActions)())(u.TableHOC),t.fetch=s.debounce((function(){t.setState(D(D({},t.state),{isLoading:!0})),window.setTimeout((function(){return t.props.fetch().done((function(e){t.setState({data:e,isLoading:!1})}))}),500)}),40),t.onUpdate=function(){t.fetch()},t.updateUrl=function(e){t.props.history.push({search:e})},t}return h(t,e),t.prototype.componentDidMount=function(){this.fetch()},t.prototype.render=function(){var e,t;return o.createElement(u.Section,{title:"Server table with numbered rows"},o.createElement("span",{className:"block my2 text-grey-7"},"Please note that the backend service doesn't support dates but we still make a request for every change in the date range."),o.createElement(f.Provider,{value:{isLoading:this.state.isLoading,id:E}},o.createElement(this.ServerTableComposed,{id:E,className:"table table-numbered mod-collapsible-rows",data:(t=null===(e=this.state.data)||void 0===e?void 0:e.users,null!=t?t:[]),renderBody:g.generateRows,tableHeader:o.createElement(f.Consumer,null,(function(e){var t=e.isLoading;return o.createElement("thead",null,o.createElement("tr",null,o.createElement(u.TableRowNumberHeader,{isLoading:t}),o.createElement(u.TableHeaderWithSort,{id:"address.city",tableId:E,isLoading:t},"City"),o.createElement(u.TableHeaderWithSort,{id:"email",tableId:E,isLoading:t},"Email"),o.createElement(u.TableHeaderWithSort,{id:"username",tableId:E,isLoading:t,isDefault:!0},"Username"),o.createElement(u.TableRowHeader,{isLoading:t},"Date of Birth"),o.createElement(u.TableRowHeader,{isLoading:t})))})),onUpdate:this.onUpdate,onUpdateUrl:this.updateUrl,isLoading:this.state.isLoading,loading:{numberOfColumns:6}},o.createElement(u.LastUpdated,{time:new Date}))))},t}(o.PureComponent),O=Object(i.connect)(void 0,(function(e){return{fetch:function(){return e(A.fetchData())},resetFilter:function(){return e(Object(u.filterThrough)(E,""))}}}))(Object(l.g)(w)),A={fetchData:function(){return function(e,t){var n=u.TableHOCUtils.getCompositeState(E,t()),o=v(s.map(n.dateLimits,(function(e){return e&&e.toISOString()})),2),i=o[0],l=o[1],c={_page:n.pageNb+1,_limit:n.perPage,_sort:n.sortKey,_order:n.sortAscending?"asc":"desc",q:n.filter||void 0,from:i,to:l};return s.each(n.predicates,(function(e){c[e.id]=e.value})),r.get("https://jsonplaceholder.typicode.com/users",c).then((function(t,n,r){var o=r.getResponseHeader("x-total-count"),i=s.map(t,(function(e){return{city:e.address.city,username:e.username,email:e.email,dateOfBirth:a().subtract(e.address.city.length,"years").toDate()}}));return e(u.TableWithPaginationActions.setCount(E,o)),{count:o,users:i}}))}}}}}]);
//# sourceMappingURL=116.bundle.js.map